{% load static %}
<!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="{% static 'js/jquery.min.js' %}"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="{% static 'js/ie10-viewport-bug-workaround.js' %}"></script>

    
    <script>

        function updateCartItemCount(){
            var badge = $("#cart-count-badge");
   
            $.ajax({
                type: "GET",
                url: "{% url 'item_count' %}",
                success: function(data){
                    badge.text(data.count);
                    console.log(data.count);
                },
                error: function(response, error) {
                    console.log(response)
                    console.log(error);
                }
   
            })
   
        }
        $(document).ready(function(){
            
            updateCartItemCount()
        })
   
        </script>